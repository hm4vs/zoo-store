<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Корзина | ZooStore</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <header class="header">
        <div class="logo">
            <img src="assets/logo.png" alt="ZooStore">
        </div>
        <nav class="nav">
            <a href="index.html">Главная</a>
            <a href="catalog.html">Каталог</a>
            <a href="cart.html">Корзина (<span id="cart-counter">0</span>)</a>
        </nav>
    </header>

   <!-- В секции корзины -->
<section class="cart">
    <h2>Ваша корзина</h2>
    <div id="cart-items">
        <!-- Сообщение будет здесь -->
    </div>
    <div class="total">
        Итого: <span id="total-price">0</span> руб.
    </div>
    <button onclick="checkout()" class="checkout-btn">Заказать</button>
</section>

    <footer class="footer">
        <p>© 2025 ZooStore</p>
    </footer>

    <script src="scripts/app.js"></script>
    <script>
        // Функция для загрузки товаров в корзину
        function loadCartItems() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const container = document.getElementById('cart-items');
            const totalPriceElement = document.getElementById('total-price');

            // Очистка контейнера
            container.innerHTML = '';

            // Рендеринг каждого товара
            cart.forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                itemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" width="80">
                    <div class="cart-item-info">
                        <h3>${item.name}</h3>
                        <p>Цена: ${item.price} руб.</p>
                    </div>
                    <button onclick="removeFromCart(${index})" class="remove-btn">×</button>
                `;
                container.appendChild(itemElement);
            });

            // Обновление итоговой суммы
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            totalPriceElement.textContent = total;
        }

        // Функция удаления товара
        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            loadCartItems(); // Перерисовываем корзину
            updateCartCounter(); // Обновляем счетчик
        }

        // Функция оформления заказа
        function checkout() {
            alert('Заказ оформлен! Спасибо!');
            localStorage.removeItem('cart');
            window.location.href = 'index.html';
        }

        // Загружаем корзину при открытии страницы
        document.addEventListener('DOMContentLoaded', loadCartItems);
    </script>
</body>
</html>